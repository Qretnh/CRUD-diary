# üìì Diary

CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI** —Å PostgreSQL, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —É–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ –≤ Docker –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –ª–∏–Ω—Ç–µ—Ä–∞–º–∏/—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–∞–º–∏ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **CRUD** –¥–ª—è –∑–∞–º–µ—Ç–æ–∫ (—Å–æ–∑–¥–∞—Ç—å, –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å)
* **–û—Ç–º–µ—Ç–∫–∞ –∑–∞–ø–∏—Å–∏ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π**
* **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π**
* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **SQLAlchemy + asyncpg**
* –î–µ–ø–ª–æ–π –≤ 1 –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ **Docker Compose**
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `.env`
* –õ–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã (**flake8**, **black**, **isort**)
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ **pre-commit**

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* Python 3.12
* FastAPI
* SQLAlchemy (async)
* PostgreSQL
* Docker + Docker Compose
* Black, Isort, Flake8, Pre-commit

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/username/diary-api.git
cd diary-api
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ `.env`

```env
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=diary
DATABASE_URL=postgresql+asyncpg://user:password@db:5432/diary
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
docker compose up --build
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **[http://localhost:8000](http://localhost:8000)**
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger: **[http://localhost:8000/docs](http://localhost:8000/docs)**

---

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥  | URL              | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ------ | ---------------- | --------------------------- |
| POST   | /notes/          | –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å              |
| GET    | /notes/          | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π     |
| GET    | /notes/{id}      | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ ID       |
| PUT    | /notes/{id}      | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å             |
| PATCH  | /notes/{id}/done | –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–ø–∏—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π |
| DELETE | /notes/{id}      | –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å              |

---

## –õ–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:

* **black** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
* **isort** ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
* **flake8** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞


### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤—Ä—É—á–Ω—É—é

```bash
black .
isort .
flake8
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `.env`:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è         | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| ------------------ | ----------------------------- |
| POSTGRES\_USER     | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î               |
| POSTGRES\_PASSWORD | –ü–∞—Ä–æ–ª—å –ë–î                     |
| POSTGRES\_DB       | –ò–º—è –ë–î                        |
| DATABASE\_URL      | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SQLAlchemy |

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ db/               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –º–æ–¥–µ–ª–∏ –ë–î
‚îú‚îÄ‚îÄ routers/          # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API
‚îú‚îÄ‚îÄ schemas/          # Pydantic-—Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ services/         # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îú‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ logger.py         # –õ–æ–≥–≥–µ—Ä
‚îú‚îÄ‚îÄ Dockerfile        # –î–æ–∫–µ—Ä—Ñ–∞–π–ª –¥–ª—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ requirements.txt  
docker-compose.yml

requirements.txt
.env.example
```

---

## üê≥ –î–µ–ø–ª–æ–π

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Docker:

```bash
docker compose up --build
```

–ë–∞–∑–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ—Ä—ë—Ç—Å—è –∏–∑ `.env`.

